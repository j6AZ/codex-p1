<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Mock Maps Demo</title>
    <link rel="stylesheet" href="styles.css" />
    <style>
      #mock-map {
        height: 100%;
        background-color: #f0f0f0;
        position: relative;
        overflow: hidden;
      }
      .mock-marker {
        position: absolute;
        width: 20px;
        height: 20px;
        background-color: red;
        border-radius: 50%;
        transform: translate(-50%, -50%);
        z-index: 10;
      }
      .mock-marker::after {
        content: '';
        position: absolute;
        top: 100%;
        left: 50%;
        transform: translateX(-50%);
        border-left: 8px solid transparent;
        border-right: 8px solid transparent;
        border-top: 12px solid red;
      }
      .mock-suggestions {
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: white;
        border: 1px solid #dadce0;
        border-radius: 0 0 8px 8px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        display: none;
        z-index: 100;
      }
      .suggestion-item {
        padding: 10px 12px;
        border-bottom: 1px solid #eee;
        cursor: pointer;
      }
      .suggestion-item:hover {
        background-color: #f5f5f5;
      }
      .map-grid {
        display: grid;
        grid-template-columns: repeat(20, 5%);
        grid-template-rows: repeat(20, 5%);
        height: 100%;
        width: 100%;
        position: absolute;
      }
      .grid-cell {
        border: 1px solid #e0e0e0;
      }
    </style>
  </head>
  <body>
    <div id="pac-card" class="card">
      <label for="pac-input" class="label">Search for a place (Mock)</label>
      <input
        id="pac-input"
        type="text"
        placeholder="Start typing an address, city, or place"
        autocomplete="off"
      />
      <div class="mock-suggestions" id="suggestions">
        <!-- Suggestions will be added here -->
      </div>
    </div>
    <div id="mock-map">
      <div class="map-grid" id="map-grid"></div>
      <div class="mock-marker" id="marker"></div>
    </div>

    <script>
      // Sample places for autocomplete
      const samplePlaces = [
        "San Francisco, CA",
        "San Jose, CA",
        "San Diego, CA",
        "Sacramento, CA",
        "Los Angeles, CA",
        "New York, NY",
        "Chicago, IL",
        "Houston, TX",
        "Phoenix, AZ",
        "Philadelphia, PA"
      ];
      
      // Create grid cells
      const grid = document.getElementById('map-grid');
      for (let i = 0; i < 400; i++) {
        const cell = document.createElement('div');
        cell.className = 'grid-cell';
        grid.appendChild(cell);
      }
      
      // Initialize map and marker
      const map = document.getElementById('mock-map');
      const marker = document.getElementById('marker');
      const input = document.getElementById('pac-input');
      const suggestions = document.getElementById('suggestions');
      
      // Set initial position
      positionMarker(50, 50);
      
      // Handle input for autocomplete
      input.addEventListener('input', function() {
        const query = this.value.toLowerCase();
        if (query.length < 2) {
          suggestions.style.display = 'none';
          return;
        }
        
        // Filter suggestions
        const matches = samplePlaces.filter(place => 
          place.toLowerCase().includes(query)
        );
        
        // Display suggestions
        suggestions.innerHTML = '';
        matches.forEach(place => {
          const item = document.createElement('div');
          item.className = 'suggestion-item';
          item.textContent = place;
          item.addEventListener('click', function() {
            input.value = place;
            suggestions.style.display = 'none';
            
            // Move marker to a random position
            const x = 20 + Math.random() * 60;
            const y = 20 + Math.random() * 60;
            positionMarker(x, y);
          });
          suggestions.appendChild(item);
        });
        
        suggestions.style.display = matches.length ? 'block' : 'none';
      });
      
      // Hide suggestions when clicking outside
      document.addEventListener('click', function(e) {
        if (e.target !== input && !suggestions.contains(e.target)) {
          suggestions.style.display = 'none';
        }
      });
      
      // Function to position marker
      function positionMarker(x, y) {
        marker.style.left = x + '%';
        marker.style.top = y + '%';
      }
      
      // Simulate geolocation
      setTimeout(() => {
        const x = 30 + Math.random() * 40;
        const y = 30 + Math.random() * 40;
        positionMarker(x, y);
      }, 1000);
    </script>
  </body>
</html>
